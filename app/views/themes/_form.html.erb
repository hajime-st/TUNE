 <div class="flex flex-col items-center">
  <%= form_with model: theme, class: "bg-white pt-10 flex flex-col w-11/12 md:w-5/12", local: true do |f| %>
    <p class="text-2xl md:text-4xl text-center md:text-left font-bold border-b pb-2 w-full"><%= (t 'themes.new.title') %></p>
    <div class="mt-5">
      <%= f.label :title, class: "text-m font-bold" %>
      <% unless theme.errors.include?(:title)  %>
        <%= f.text_field :title, class: "mt-2 border rounded-sm w-full py-2 px-3 leading-tight" %>
      <% else %>
        <%= f.text_field :title, class: "mt-2 border border-red-500 rounded-sm w-full py-2 px-3 leading-tight" %>
        <p class="text-red-500 text-xs italic"><%= theme.errors.full_messages_for(:title).first %></p>
      <% end %>
    </div>
    <div class="mt-5">
      <div class="flex items-center">
        <%= f.label :description, '詳細', class: "text-m font-bold" %>
        <span class="text-xs italic text-slate-500 ml-2">任意</span>
      </div>
      <% unless theme.errors.include?(:description)  %>
        <%= f.text_area :description, rows: 4, class: "mt-2 border rounded-sm w-full py-2 px-3 leading-tight" %>
      <% else %>
        <%= f.text_area :description, rows: 4, class: "mt-2 border border-red-500 rounded-sm w-full py-2 px-3 leading-tight" %>
        <p class="text-red-500 text-xs italic"><%= theme.errors.full_messages_for(:description).first %></p>
      <% end %>
    </div>
    <div class="mt-5">
      <div class="flex items-center">
        <%= f.label :genre, 'ジャンル', class: "text-m font-bold" %>
        <span class="text-xs italic text-slate-500 ml-2">任意</span>
      </div>
      <p class="text-m text-slate-500 mt-1">解答を特定のジャンルに絞ることが出来ます。例えば邦楽を選んだ場合、解答者は邦楽のみ解答できます。</p>
      <p><%= f.select :genre,
                    [
                      ['邦楽', '邦楽,j-,japanese,vocaloid'], ['洋楽', '洋楽,j-,japanese,vocaloid'],
                      ['J-POP', 'J-POP,j.+pop'], ['J-Rock', 'J-Rock,j.+rock'],
                      ['ロック', 'ロック,rock'], ['オルタナティブ', 'オルタナティブ,alternative'],
                      ['ポップ', 'ポップ,pop'], ['K-POP', 'K-POP,k-pop'],
                      ['エレクトロニック', 'エレクトロニック,elect'], ['ヒップホップ/ラップ', 'ヒップホップ/ラップ,hip hop,rap'],
                      ['クラシック', 'クラシック,composition,classical'], ['ジャズ', 'ジャズ,jazz']
                    ],
                    { prompt: '全てのジャンル' },
                    class: "mt-2 w-2/3 lg:w-1/2 py-2 pl-2 rounded-sm leading-tight cursor-pointer" %>
      </p>
    </div>
    <div class="mt-5">
      <%= f.label :tag_names, Tag.human_attribute_name(:name), class: "text-m font-bold" %>
      <span class="text-xs italic text-slate-500 ml-1">任意</span>
      <% if theme.tags.empty? || !theme.tags.first.errors.include?(:name) %>
        <p><%= f.text_field :tag_names, placeholder: '#MUSIC',
        class: "mt-2 border w-full rounded-sm leading-tight" %></p>
      <% elsif theme.tags.first.errors.include?(:name) %>
        <p><%= f.text_field :tag_names, placeholder: '#MUSIC',
        class: "mt-2 border border-red-500 w-full rounded-sm leading-tight" %></p>
        <p class="text-red-500 text-xs italic"><%= theme.tags.first.errors.full_messages_for(:name).first %></p>
      <% end %>
    </div>
    <div class="mt-5">
      <div class="flex items-center">
        <%= f.label :theme_image, '画像', class: "text-m font-bold" %>
        <span class="text-xs italic text-slate-500 ml-1">任意</span>
      </div>
      <%= f.file_field :theme_image, accept: 'image/*',
         class: "mt-2 block w-2/3 lg:w-1/2 xl:w-1/3 text-sm border cursor-pointer bg-gray-50 focus:outline-none" %>
      <%= f.hidden_field :theme_image_cache %>
    </div>
    <button class="my-9 bg-black hover:bg-zinc-700 text-white hover:text-slate-50 font-bold py-2 w-full text-center">
      <%= f.submit 'お題を投稿する', class:"cursor-pointer" %>
    </button>
  <% end %>
</div>